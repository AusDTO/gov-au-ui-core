/*
Forms

Form elements and attributes in HTML5 provide a greater degree of semantic mark-up than HTML4. They remove a great deal of the need for scripting and styling that was required in HTML4.

The forms features in HTML5 provide a better experience for users by making forms more consistent across different web sites and giving immediate feedback to the user about data entry. They also provide this experience to users who have scripting disabled in their browser.

Style guide: Forms
*/

%base-input {
  width: 100%;
  outline-offset: 0;
  border: 2px solid $border-colour;
  border-radius: 0;
  background-color: $background-colour;
  padding: $tiny-spacing;

  &:invalid,
  &.invalid {
    outline: 2px solid $error-colour;
  }

  &:valid,
  &.valid {
    outline: 2px solid $success-colour;
  }

  &:focus {
    outline: 2px solid $focus-colour;
  }

  &:disabled,
  &[disabled] {
    cursor: not-allowed;
    opacity: .5;
  }

}

form {

  fieldset,
  p {
    margin: 0 0 $medium-spacing 0;
    padding: 0;
    border: none;
  }

  /*
  Label

  Used to tell the user what to enter into the field.

  Markup:
  <form>
    <label>Enter your name</label>
  </form>

  Style guide: Forms.Label
  */

  label {
    display: block;
  }

  /*
  Hint text

  An optional extra descriptor for the input field.

  Markup:
  <form>
    <label for="name">Enter your name</label>
    <span class="hint" id="name-hint">Your name is on your birth certificate</span>
    <input type="text" id="name" aria-describedby="name-hint" />
  </form>

  Style guide: Forms.HintText
  */

  .hint {
    display: block;
    color: $body-secondary-text-colour;
    font-size: rem(14);
  }

  /*
  Text input

  A single line text input.

  Markup:
  <form>
    <p>
      <label>A text input field:</label>
      <input type="text" />
    </p>
    <p>
      <label>An invalid field:</label>
      <input type="text" class="invalid" />
    </p>
    <p>
      <label>A disabled field:</label>
      <input type="text" disabled />
    </p>
  </form>

  Style guide: Forms.TextInput
  */

  [type='text'],
  [type='email'],
  [type='password'] {
    @extend %base-input;
  }

  /*
  Textarea input

  A multi-line text input that can be resized vertically by the user.

  Markup:
  <form>
    <label>An input for longer responses:</label>
    <textarea></textarea>
  </form>

  Style guide: Forms.TextAreaInput
  */

  textarea {
    @extend %base-input;
    resize: vertical;
  }


  input {
    &[type='radio'],
    &[type='checkbox'] {
      @extend %base-input;
      height: 1px;
      // hide the native widget but keep it in the tab order
      left: -10000px;
      position: absolute;
      visibility: visible;
      width: 1px;

      &:focus + label {
        outline: 1px solid $border-colour;
      }

      &:invalid + label {
        color: $error-colour;

        &::before {
          border-color: $error-colour;
        }
      }

      + label {
        display: inline-block;
        margin-bottom: 8px;
        padding: 15px 0 15px 60px;
        position: relative;
        width: 100%;

        @include media($tablet) {
          padding: 12px 0 12px 60px;
        }

        &::before {
          display: inline-block;
          height: 27px;
          position: absolute;
          text-align: center;
          top: 13px;
          width: 27px;

          @include media($tablet) {
            top: 9px;
          }
        }
      }
    }
  }

  /*
Radio button input

A collection of mutually exclusive options.

Markup:
<form>
          <fieldset>
            <legend>Would you like?</legend>
            <input id="yes" name="reply" type="radio" value="Yes"/>
            <label for="yes">Yes</label>
            <input id="no" name="reply" type="radio" value="No"/>
            <label for="no">No</label>
          </fieldset>
</form>

Style guide: Forms.RadioButtonInput
*/
  input[type='radio'] {
    & + label {
      &::before {
        border: 2px solid $body-text-colour;
        border-radius: 50%;
        content: '';
        left: 18px;
      }
    }

    &:checked + label {
      font-weight: bold;

      &::before {
        border-radius: 50%;
        content: '';
      }

      &::after {
        width: 17px;
        height: 17px;
        background-color: $body-text-colour;
        border: 1px solid transparent;
        border-radius: 50%;
        content: '';
        left: 23px;
        top: 18px;
        position: absolute;

        @include media($tablet) {
          top: 14px;
        }
      }
    }
  }

  /*
Checkbox input

A collection of options where any number of options can be chosen.

Markup:
<form>
        <fieldset>
          <legend>Which would you like?</legend>
          <input id="aaa" name="reply" type="checkbox" value="AAA"/>
          <label for="aaa">AAA</label>
          <input id="bbb" name="reply" type="checkbox" value="BBB"/>
          <label for="bbb">BBB</label>
           <input id="ccc" name="reply" type="checkbox" value="CCC"/>
          <label for="ccc">CCC</label>
        </fieldset>
</form>

Style guide: Forms.CheckboxInput
*/
  input[type='checkbox'] + label {
    &::before {
      left: 20px;
      border: 2px solid $body-text-colour;
      content: '';
      @include media($tablet) {
        top: 9px;
      }
    }
  }

  input[type='checkbox'] {
    &:checked + label {
      font-weight: bold;

      &::before {
        font-size: 18px;
        content: '';
      }

      &::after {
        width: 17px;
        height: 17px;
        background-color: $body-text-colour;
        border: 1px solid transparent;
        content: '';
        left: 25px;
        top: 18px;
        position: absolute;

        @include media($tablet) {
          top: 14px;
        }
      }
    }
  }
}

// show native checkboxes and radio buttons on IE6/7/8
.ie6,
.ie7,
.ie8 {
  input {
    &[type='radio'],
    &[type='checkbox'] {
      border: 0;
      height: 3em;
      left: 1px;
      margin-bottom: -4em;
      position: relative;
      width: 3em;
    }
  }
}
